{"version":3,"sources":["webpack:///webpack/bootstrap 8659e9296588d5a442e8","webpack:///./es6/index.js"],"names":["document","addEventListener","setHooks","nameInput","getElementById","submitBtn","radios","Array","from","querySelectorAll","ws","WebSocket","onmessage","routeWSMessage","validateForm","runAnalysis","forEach","r","e","prevEl","target","parentElement","previousElementSibling","nextEl","nextElementSibling","type","classList","remove","add","checkGitAccountExists","msg","data","JSON","parse","console","log","title","payload","selected","querySelector","http","XMLHttpRequest","url","id","name","params","value","responseType","open","setRequestHeader","onreadystatechange","readyState","status","storeResults","response","displayResults","send","results","obj","localStorage","getItem","history","timestamp","Date","setItem","stringify","validationIcon","length","showInvalid","showProgress","showValidated","i","removeAttribute","setAttribute","resultContainer","resultWrap","createElement","resultHeading","repoName","summaryHeading","expandIcon","detailsHeading","messages","summary","tableHeaders","row","resultWrapClass","pass","textContent","appendChild","m","pre","nothing","Score","towelieScore","k","tdh","td","toggle"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8659e9296588d5a442e8","document.addEventListener('DOMContentLoaded', setHooks);\n\nfunction setHooks () { \n  let nameInput = document.getElementById('name');\n  let submitBtn = document.getElementById('submit');\n  let radios = Array.from(document.querySelectorAll('[type=\"radio\"]'));\n  let ws = new WebSocket('ws://localhost:8081/events');\n  ws.onmessage = routeWSMessage;\n\n  nameInput.addEventListener('blur', validateForm);\n  submitBtn.addEventListener('click', runAnalysis);\n  radios.forEach((r) => {\n    r.addEventListener('change', (e) => {\n      let prevEl = e.target.parentElement.previousElementSibling;\n      let nextEl = e.target.parentElement.nextElementSibling;\n      (prevEl && prevEl.type === 'fieldset') ? prevEl.classList.remove('selected') : nextEl.classList.remove('selected');\n      e.target.parentElement.classList.add('selected');\n    });\n  });\n}\n\nfunction validateForm () {\n  checkGitAccountExists();\n}\n\nfunction routeWSMessage (msg) {\n  let data = JSON.parse(msg.data);\n  console.log(data);\n  switch (data.title) {\n    case 'connected': {\n      console.log('says its connected1!');\n      break;\n    }\n    case 'repos found': {\n      console.log(data.payload);\n      break;\n    }\n    case 'repos downloaded': {\n      break;\n    }\n    case 'analysis started': {\n      break;\n    }\n    case 'repo analyzed': {\n      break;\n    }\n    case 'all repos analyzed': {\n      break;\n    }\n    default: {\n      break;\n    }\n  }\n}\n\nfunction runAnalysis (e) {\n  let selected = document.querySelector('[name=\"accountType\"][checked]');\n  let http = new XMLHttpRequest();\n  let url = selected.id === 'user' ? '/git/user' : '/git/org';\n  let name = document.getElementById('name');\n  let params = \"name=\" + name.value;\n  http.responseType = 'json';\n  http.open(\"POST\", url, true);\n\n  // Send the proper header information along with the request\n  http.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n\n  http.onreadystatechange = (e) => { // Call a function when the state changes.\n    if( http.readyState == 4 && http.status == 200) {\n      storeResults(name.value, http.response);\n      displayResults(http.response);\n    }\n  }\n  http.send(params);\n};\n\nfunction storeResults (name, results) {\n  let obj = JSON.parse(localStorage.getItem('twly')) || {};\n  if (!obj.history) { obj.history = {}; }\n  obj.history[name] = { timestamp: new Date(), results: results };\n\n  localStorage.setItem('twly', JSON.stringify(obj));\n}\n\nfunction checkGitAccountExists () {\n  let nameInput = document.getElementById('name');\n  let name = nameInput.value;\n  var validationIcon = nameInput.parentElement.parentElement.querySelector('.validation-icon');\n  // GitHub requires all account names to be atleast 4 characters long\n  if (name.length < 4) { return showInvalid(validationIcon); };\n\n  var http = new XMLHttpRequest();\n  var url = 'https://api.github.com/users/' + name;\n  \n  http.responseType = 'json';\n  http.open('GET', url, true);\n  showProgress(validationIcon);\n  http.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n  http.onreadystatechange = function () { //Call a function when the state changes.\n    if(http.readyState === 4) {\n      if (http.status === 200) {\n        showValidated(validationIcon);\n      } else if (http.status === 404) {\n        showInvalid(validationIcon);\n      }\n    }\n  }\n  http.send();\n}\n\nfunction showValidated (i) {\n  let nameInput = document.getElementById('name');\n  let submitBtn = document.getElementById('submit');\n  nameInput.parentElement.classList.add('valid');\n  nameInput.parentElement.classList.remove('invalid');\n  submitBtn.removeAttribute('disabled');\n}\n\nfunction showInvalid (i) {\n  let nameInput = document.getElementById('name');\n  let submitBtn = document.getElementById('submit');\n  nameInput.parentElement.classList.remove('valid');\n  nameInput.parentElement.classList.add('invalid');\n  submitBtn.setAttribute('disabled', '');\n}\n\nfunction showProgress (i) {\n // i.classList = '';\n // i.classList.add('show', 'validation-icon', 'fa', 'fa-spin', 'fa-circle-o-notch');\n}\n\nfunction displayResults (results) {\n  let resultContainer = document.getElementById('results');\n  results.forEach((r) => {\n    let resultWrap = document.createElement('div');\n    let resultHeading = document.createElement('header');\n    let repoName = document.createElement('h1');\n    let summaryHeading = document.createElement('h3');\n    let expandIcon = document.createElement('i');\n    let detailsHeading = document.createElement('h3');\n    let messages = document.createElement('ul');\n    let summary = document.createElement('table');\n    let tableHeaders = document.createElement('tr');\n    let row = document.createElement('tr');\n    let resultWrapClass = r.pass ? 'pass' : 'fail';\n\n    resultWrap.classList.add(resultWrapClass, 'result-wrap');\n    expandIcon.classList.add('fa', 'fa-plus-square', 'expander');\n    messages.classList.add('collapsed');\n\n    repoName.textContent = r.name;\n    resultHeading.appendChild(repoName);\n    summaryHeading.textContent = 'Summary';\n    detailsHeading.textContent = 'Details';\n\n    r.messages.forEach((m) => {\n      let pre = document.createElement('pre');\n      pre.textContent = m;\n      messages.appendChild(document.createElement('li').appendChild(pre));\n    });\n    if (r.messages.length === 0) {\n      let nothing = document.createElement('li');\n      nothing.textContent = 'Perfect score. You rock! Way to remember your towel.';\n      messages.appendChild(nothing);\n    }\n    r.summary.Score = r.towelieScore + '%';\n    for (let k in r.summary) {\n      let tdh = document.createElement('th');\n      let td = document.createElement('td');\n      tdh.textContent = k;\n      tableHeaders.appendChild(tdh);\n      td.textContent = r.summary[k];\n      row.appendChild(td);\n    }\n    summary.appendChild(tableHeaders);\n    summary.appendChild(row);\n    resultWrap.appendChild(resultHeading);\n    detailsHeading.appendChild(expandIcon);\n    resultWrap.appendChild(summaryHeading);\n    resultWrap.appendChild(summary);\n    resultWrap.appendChild(detailsHeading);\n    resultWrap.appendChild(messages);\n    resultContainer.appendChild(resultWrap);\n\n    expandIcon.addEventListener('click', (e) => {\n      messages.classList.toggle('collapsed');\n      expandIcon.classList.toggle('fa-plus-square');\n      expandIcon.classList.toggle('fa-minus-square');\n    });\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./es6/index.js"],"sourceRoot":""}